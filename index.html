<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Космические исследования</title>
    <style>
        /* CSS стили */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #0f0f1a;
            color: #e0e0e0;
            line-height: 1.8;
        }

        header {
            background-color: #1a1a2e;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #4e4e8a;
        }

        h1 {
            margin: 0;
            color: #6a8aff;
        }

        nav {
            display: flex;
            justify-content: center;
            background-color: #2a2a4a;
            padding: 10px;
        }

        nav button {
            background-color: #4e4e8a;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        nav button:hover {
            background-color: #6a8aff;
        }

        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .article {
            background-color: #1a1a2e;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .article h2 {
            color: #6a8aff;
            margin-top: 0;
        }

        .article p {
            margin-bottom: 15px;
        }

        .article-image {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .hidden {
            display: none;
        }

        .auth-form {
            background-color: #1a1a2e;
            padding: 20px;
            border-radius: 8px;
            max-width: 400px;
            margin: 20px auto;
        }

        .auth-form input {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #4e4e8a;
            background-color: #2a2a4a;
            color: white;
        }

        .auth-form button {
            background-color: #4e4e8a;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }

        .auth-form button:hover {
            background-color: #6a8aff;
        }

        .user-info {
            text-align: right;
            padding: 10px 20px;
            background-color: #2a2a4a;
        }

        .comments {
            margin-top: 20px;
            border-top: 1px solid #4e4e8a;
            padding-top: 20px;
        }

        .comment {
            background-color: #2a2a4a;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .comment-form textarea {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #4e4e8a;
            background-color: #2a2a4a;
            color: white;
            margin-bottom: 10px;
            resize: vertical;
        }

        .comment-form button {
            background-color: #4e4e8a;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        .comment-form button:hover {
            background-color: #6a8aff;
        }

        .article-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .article-card {
            background-color: #1a1a2e;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .article-card:hover {
            transform: translateY(-5px);
        }

        .article-card h3 {
            color: #6a8aff;
            margin-top: 0;
        }

        .article-card-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Космические исследования</h1>
        <p>Откройте для себя тайны Вселенной</p>
    </header>

    <div class="user-info hidden" id="userInfo">
        Добро пожаловать, <span id="usernameDisplay"></span>!
        <button onclick="logout()">Выйти</button>
    </div>

    <nav>
        <button onclick="showSection('home')">Главная</button>
        <button onclick="showSection('articles')">Статьи</button>
        <button onclick="showSection('auth')" id="authButton">Войти/Регистрация</button>
    </nav>

    <div class="container">
        <!-- Главная страница -->
        <div id="home" class="section">
            <div class="article">
                <h2>Добро пожаловать на наш космический сайт!</h2>
                <img src="https://images.unsplash.com/photo-1454789548928-9efd52dc4031?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Космос" class="article-image">
                <p>Здесь вы найдете самые свежие и интересные статьи о космосе, астрономии и исследованиях Вселенной. Наш сайт предоставляет возможность не только читать материалы, но и обсуждать их с другими энтузиастами.</p>
                <p>Для доступа ко всем функциям сайта, пожалуйста, зарегистрируйтесь или войдите в свою учетную запись.</p>
                <p>Наши статьи охватывают широкий спектр тем: от загадочных черных дыр до перспектив межзвездных путешествий. Мы стремимся предоставлять достоверную информацию, основанную на последних научных исследованиях, в доступной для понимания форме.</p>
                <p>Присоединяйтесь к нашему сообществу любителей космоса, делитесь своими мыслями в комментариях и будьте в курсе самых удивительных открытий в области астрономии и космонавтики!</p>
            </div>
        </div>

        <!-- Выбор статей -->
        <div id="articles" class="section hidden">
            <h2>Выберите статью для чтения</h2>
            <div class="article-list">
                <div class="article-card" onclick="loadArticle(1)">
                    <img src="https://images.unsplash.com/photo-1462331940025-496dfbfc7564?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Черная дыра" class="article-card-image">
                    <h3>Черные дыры: врата в другие вселенные?</h3>
                    <p>Исследуем теорию о том, могут ли черные дыры быть порталами в другие измерения.</p>
                </div>
                <div class="article-card" onclick="loadArticle(2)">
                    <img src="https://images.unsplash.com/photo-1464802686167-b939a6910659?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Экзопланеты" class="article-card-image">
                    <h3>Экзопланеты: поиск второй Земли</h3>
                    <p>Как астрономы ищут планеты, пригодные для жизни за пределами Солнечной системы.</p>
                </div>
                <div class="article-card" onclick="loadArticle(3)">
                    <img src="https://images.unsplash.com/photo-1454789548928-9efd52dc4031?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Марс" class="article-card-image">
                    <h3>Марс: колонизация и терраформирование</h3>
                    <p>Планы человечества по превращению Красной планеты в новый дом.</p>
                </div>
                <div class="article-card" onclick="loadArticle(4)">
                    <img src="https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Темная материя" class="article-card-image">
                    <h3>Темная материя: невидимая основа Вселенной</h3>
                    <p>Загадочная субстанция, составляющая большую часть массы космоса.</p>
                </div>
                <div class="article-card" onclick="loadArticle(5)">
                    <img src="https://images.unsplash.com/photo-1506318137071-a8e063b4bec0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Межзвездные путешествия" class="article-card-image">
                    <h3>Межзвездные путешествия: фантастика или ближайшее будущее?</h3>
                    <p>Технологические вызовы и перспективы полетов к другим звездам.</p>
                </div>
            </div>
        </div>

        <!-- Статья -->
        <div id="article" class="section hidden">
            <div class="article">
                <h2 id="articleTitle"></h2>
                <img id="articleImage" src="" alt="" class="article-image">
                <div id="articleContent"></div>
            </div>
            <div class="comments">
                <h3>Комментарии</h3>
                <div id="commentsList"></div>
                <div class="comment-form hidden" id="commentForm">
                    <textarea id="commentText" placeholder="Оставьте ваш комментарий..." rows="3"></textarea>
                    <button onclick="postComment()">Отправить</button>
                </div>
            </div>
        </div>

        <!-- Форма авторизации/регистрации -->
        <div id="auth" class="section hidden">
            <div class="auth-form">
                <h2>Вход / Регистрация</h2>
                <input type="text" id="authUsername" placeholder="Имя пользователя">
                <input type="password" id="authPassword" placeholder="Пароль">
                <button onclick="login()">Войти</button>
                <button onclick="register()">Зарегистрироваться</button>
                <p id="authMessage" style="text-align: center; margin-top: 10px;"></p>
            </div>
        </div>
    </div>

    <script>
        // Статьи (в реальном проекте можно загружать с сервера)
        const articles = {
            1: {
                title: "Черные дыры: врата в другие вселенные?",
                image: "https://images.unsplash.com/photo-1462331940025-496dfbfc7564?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
                content: `
                    <p>Черные дыры - одни из самых загадочных объектов во Вселенной. Согласно общей теории относительности Эйнштейна, черная дыра - это область пространства-времени с настолько сильным гравитационным притяжением, что покинуть ее не могут даже объекты, движущиеся со скоростью света, включая сам свет.</p>
                    
                    <p>Некоторые теоретики предполагают, что черные дыры могут быть "кротовыми норами" - туннелями в пространстве-времени, соединяющими удаленные области Вселенной или даже разные вселенные. Однако эта гипотеза пока не имеет экспериментального подтверждения и остается предметом научных дискуссий.</p>
                    
                    <p>Современные исследования показывают, что черные дыры могут быть гораздо более сложными объектами, чем считалось ранее. Например, теория струн предполагает, что информация, попадающая в черную дыру, не исчезает бесследно, а может сохраняться на ее поверхности в виде "голограммы". Это открытие, сделанное в 1990-х годах, перевернуло наши представления о природе черных дыр.</p>
                    
                    <p>В 2019 году человечество впервые получило прямое изображение черной дыры в центре галактики M87. Это достижение стало возможным благодаря проекту Event Horizon Telescope, объединившему радиотелескопы по всему миру в один виртуальный телескоп размером с Землю. Полученное изображение подтвердило многие предсказания теории относительности.</p>
                    
                    <p>Интересно, что черные дыры могут различаться по размерам. Существуют:</p>
                    <ul>
                        <li>Сверхмассивные черные дыры (миллионы солнечных масс) в центрах галактик</li>
                        <li>Черные дыры звездных масс (5-50 солнечных масс)</li>
                        <li>Гипотетические первичные черные дыры, которые могли образоваться в ранней Вселенной</li>
                    </ul>
                    
                    <p>Последние исследования также показывают, что черные дыры могут играть ключевую роль в формировании галактик и крупномасштабной структуры Вселенной. Их гравитационное влияние распространяется далеко за пределы "горизонта событий" - границы, из-за которой ничто не может вернуться.</p>
                    
                    <p>Вопрос о том, могут ли черные дыры быть порталами в другие вселенные, остается открытым. Некоторые решения уравнений Эйнштейна действительно допускают такую возможность, но для подтверждения этой гипотезы потребуются новые фундаментальные открытия в физике.</p>
                `
            },
            2: {
                title: "Экзопланеты: поиск второй Земли",
                image: "https://images.unsplash.com/photo-1464802686167-b939a6910659?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
                content: `
                    <p>С момента открытия первой экзопланеты в 1992 году астрономы обнаружили тысячи планет за пределами нашей Солнечной системы. Многие из этих миров находятся в так называемой "зоне обитаемости" - области вокруг звезды, где условия могут быть подходящими для существования жидкой воды на поверхности планеты.</p>
                    
                    <p>Современные телескопы, такие как TESS (Transiting Exoplanet Survey Satellite) и будущий James Webb, позволяют не только обнаруживать экзопланеты, но и изучать состав их атмосфер в поисках биомаркеров - признаков возможной жизни. Эти биомаркеры могут включать кислород, метан, озон и другие газы, которые в определенных сочетаниях могут указывать на биологическую активность.</p>
                    
                    <p>Одной из самых перспективных систем считается TRAPPIST-1, красный карлик в 40 световых годах от Земли, вокруг которого вращается семь планет земного типа, три из которых находятся в зоне обитаемости. Особый интерес представляет TRAPPIST-1e, которая по многим параметрам похожа на Землю.</p>
                    
                    <p>Методы обнаружения экзопланет включают:</p>
                    <ul>
                        <li>Транзитный метод (измерение падения яркости звезды при прохождении планеты)</li>
                        <li>Метод радиальных скоростей (измерение колебаний звезды под влиянием гравитации планеты)</li>
                        <li>Метод гравитационного микролинзирования</li>
                        <li>Прямое наблюдение (очень сложно из-за слабого света планет)</li>
                    </ul>
                    
                    <p>Особый интерес представляют планеты вокруг звезд класса G (как наше Солнце) и K (оранжевые карлики), которые имеют достаточно долгий срок жизни и стабильны для развития сложных форм жизни. Красные карлики (класс M), хотя и самые распространенные в Галактике, часто проявляют сильную активность, что может быть губительным для атмосфер близлежащих планет.</p>
                    
                    <p>В 2020 году в атмосфере экзопланеты K2-18b, находящейся в зоне обитаемости, были обнаружены водяной пар и возможно даже облака из жидкой воды. Это открытие, сделанное с помощью космического телескопа Hubble, стало важным шагом в поиске потенциально обитаемых миров.</p>
                    
                    <p>Следующим этапом в исследовании экзопланет станет поиск так называемых "биосигнатур" - комбинаций химических элементов в атмосфере, которые с высокой вероятностью могут указывать на присутствие жизни. Для этого потребуются новые поколения телескопов, способных анализировать состав атмосфер с беспрецедентной точностью.</p>
                `
            },
            3: {
                title: "Марс: колонизация и терраформирование",
                image: "https://images.unsplash.com/photo-1454789548928-9efd52dc4031?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
                content: `
                    <p>Марс давно рассматривается как наиболее подходящий кандидат для первой человеческой колонии за пределами Земли. Планы по колонизации Красной планеты включают создание герметичных баз, использование местных ресурсов и постепенное изменение марсианской атмосферы для создания более землеподобных условий - процесс, известный как терраформирование.</p>
                    
                    <p>Хотя современные технологии еще не позволяют полностью преобразовать Марс, первые шаги, такие как повышение температуры и давления атмосферы, могут быть предприняты уже в этом столетии. Один из предложенных методов - выпуск в атмосферу парниковых газов, что может запустить процесс глобального потепления на планете.</p>
                    
                    <p>Компания SpaceX Илона Маска активно разрабатывает программу колонизации Марса с помощью космического корабля Starship. Планируется, что первые беспилотные миссии с оборудованием могут стартовать уже в середине 2020-х годов, а пилотируемые полеты - в конце десятилетия.</p>
                    
                    <p>Основные преимущества Марса для колонизации:</p>
                    <ul>
                        <li>Относительная близость к Земле (от 55 до 400 млн км в зависимости от положения на орбитах)</li>
                        <li>Продолжительность суток почти как на Земле (24 часа 39 минут)</li>
                        <li>Наличие воды в виде льда под поверхностью</li>
                        <li>Атмосфера, хотя и разреженная, но обеспечивающая некоторую защиту от радиации</li>
                        <li>Полезные ископаемые, которые можно использовать для строительства и производства</li>
                    </ul>
                    
                    <p>Однако колонизация Марса сталкивается с серьезными вызовами:</p>
                    <ul>
                        <li>Высокий уровень радиации из-за отсутствия магнитного поля и тонкой атмосферы</li>
                        <li>Низкие температуры (в среднем -63°C)</li>
                        <li>Разреженная атмосфера (давление менее 1% от земного)</li>
                        <li>Отсутствие пригодного для дыхания воздуха</li>
                        <li>Длительная изоляция колонистов от Земли</li>
                    </ul>
                    
                    <p>Первые марсианские базы, вероятно, будут расположены под поверхностью или в лавовых трубках, что обеспечит защиту от радиации и температурных перепадов. Для производства кислорода можно использовать электролиз воды или переработку углекислого газа из атмосферы. Энергию планируется получать от солнечных батарей и, возможно, компактных ядерных реакторов.</p>
                    
                    <p>Долгосрочные планы терраформирования включают создание искусственного магнитного поля, импорт азота с других тел Солнечной системы и даже изменение орбиты Марса для повышения температуры. Хотя эти проекты кажутся фантастическими, они основаны на известных физических принципах и могут стать реальностью через несколько столетий.</p>
                `
            },
            4: {
                title: "Темная материя: невидимая основа Вселенной",
                image: "https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
                content: `
                    <p>Темная материя - это гипотетическая форма материи, которая не испускает электромагнитного излучения и не взаимодействует с ним, что делает ее невидимой для традиционных методов наблюдения. Однако ее существование подтверждается гравитационными эффектами, которые она оказывает на видимую материю.</p>
                    
                    <p>По современным оценкам, темная материя составляет около 27% всей массы-энергии Вселенной, в то время как обычная (барионная) материя - лишь около 5%. Остальные 68% приходятся на еще более загадочную темную энергию, ответственную за ускоренное расширение Вселенной.</p>
                    
                    <p>Первые свидетельства существования темной материи появились в 1930-х годах, когда астроном Фриц Цвикки обнаружил, что галактики в скоплении Кома движутся так, как будто их масса значительно больше видимой. В 1970-х Вера Рубин подтвердила этот парадокс, изучая кривые вращения галактик.</p>
                    
                    <p>Современные доказательства существования темной материи включают:</p>
                    <ul>
                        <li>Кривые вращения галактик, которые не соответствуют предсказаниям без учета темной материи</li>
                        <li>Гравитационное линзирование - искривление света от далеких объектов под действием невидимой массы</li>
                        <li>Наблюдения за скоплениями галактик, где видимая масса недостаточна для удержания системы</li>
                        <li>Анализ флуктуаций реликтового излучения, оставшегося после Большого взрыва</li>
                    </ul>
                    
                    <p>Природа темной материи остается одной из самых больших загадок современной физики. Основные кандидаты на роль частиц темной материи:</p>
                    <ul>
                        <li>WIMPs (Weakly Interacting Massive Particles) - слабовзаимодействующие массивные частицы</li>
                        <li>Аксионы - гипотетические очень легкие частицы</li>
                        <li>Стерильные нейтрино - тяжелые варианты обычных нейтрино</li>
                    </ul>
                    
                    <p>Эксперименты по обнаружению темной материи проводятся как в глубоких подземных лабораториях (например, XENON, LUX, DAMA), так и в космосе (Fermi Gamma-ray Space Telescope, AMS-02 на МКС). Пока ни один из экспериментов не дал однозначного подтверждения существования частиц темной материи, но поиски продолжаются.</p>
                    
                    <p>Альтернативная теория - модифицированная ньютоновская динамика (MOND) - предлагает объяснение аномалий в движении галактик без привлечения темной материи, путем изменения законов гравитации на больших расстояниях. Однако большинство астрофизиков считают, что существование темной материи лучше объясняет все наблюдаемые явления.</p>
                    
                    <p>Решение загадки темной материи может привести к революции в физике, сравнимой с открытием квантовой механики или теории относительности. Это не только объяснит фундаментальные свойства Вселенной, но и может открыть путь к новым технологиям, основанным на взаимодействии с этой таинственной формой материи.</p>
                `
            },
            5: {
                title: "Межзвездные путешествия: фантастика или ближайшее будущее?",
                image: "https://images.unsplash.com/photo-1506318137071-a8e063b4bec0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
                content: `
                    <p>Путешествия к другим звездам представляют огромные технологические вызовы. Даже ближайшая к Солнцу звезда, Проксима Центавра, находится на расстоянии 4,24 световых года. Современным космическим аппаратам потребовались бы десятки тысяч лет, чтобы достичь ее.</p>
                    
                    <p>Однако ученые и инженеры разрабатывают концепции, которые могут сделать межзвездные путешествия возможными в обозримом будущем. Наиболее реалистичные проекты включают:</p>
                    <ul>
                        <li>Ядерные импульсные двигатели (проект Orion, 1950-60-е годы)</li>
                        <li>Солнечные паруса, разгоняемые лазерами (проект Breakthrough Starshot)</li>
                        <li>Термоядерные двигатели (проект Daedalus, 1970-е)</li>
                        <li>Двигатели на антиматерии (теоретическая концепция)</li>
                    </ul>
                    
                    <p>Проект Breakthrough Starshot, анонсированный в 2016 году, предлагает отправку микроскопических зондов с солнечными парусами, которые будут разгоняться мощными лазерами с Земли до 20% скорости света. Это позволит достичь Альфы Центавра за 20-30 лет. Хотя проект сталкивается с огромными техническими трудностями, его физические основы не противоречат известным законам природы.</p>
                    
                    <p>Для пилотируемых межзвездных миссий потребуются совершенно иные технологии. Основные проблемы включают:</p>
                    <ul>
                        <li>Огромные энергетические требования (для корабля массой в тысячи тонн)</li>
                        <li>Защита от межзвездной пыли и радиации на высоких скоростях</li>
                        <li>Обеспечение жизни экипажа в течение десятилетий или даже столетий</li>
                        <li>Психологические и социальные аспекты длительных полетов</li>
                    </ul>
                    
                    <p>Одно из возможных решений - создание "кораблей поколений", где сменяющиеся поколения экипажа будут жить и умирать в пути. Другой вариант - криогенная заморозка астронавтов. Однако наиболее перспективным может оказаться отправка искусственного интеллекта или создание условий для искусственного оплодотворения по прибытии.</p>
                    
                    <p>Теоретически, варп-двигатель (основанный на искривлении пространства-времени, как в Общей теории относительности Эйнштейна) мог бы позволить преодолевать межзвездные расстояния за приемлемое время без нарушения принципа причинности. Однако для этого потребуется экзотическая материя с отрицательной энергией, существование которой пока не подтверждено.</p>
                    
                    <p>Несмотря на все трудности, интерес к межзвездным путешествиям растет. В 2017 году NASA начала предварительные исследования концепции миссии к Альфе Центавра. Частные инициативы, такие как Breakthrough Initiatives, инвестируют миллионы долларов в соответствующие технологии.</p>
                    
                    <p>Эксперты сходятся во мнении, что первые межзвездные зонды могут быть запущены уже во второй половине XXI века, а пилотируемые миссии - возможно, через 100-200 лет. Это потребует международного сотрудничества и долгосрочного планирования, но открытие пригодных для жизни экзопланет может стать мощным стимулом для ускорения этих программ.</p>
                `
            }
        };

        // Комментарии (в реальном проекте хранились бы на сервере)
        let comments = {
            1: [
                { user: "Космонавт", text: "Очень интересная статья! Всегда думал, что черные дыры могут быть порталами.", time: "2023-05-15T10:30:00" },
                { user: "Астрофизик", text: "Теория интересная, но пока нет никаких доказательств.", time: "2023-05-16T14:45:00" }
            ],
            2: [],
            3: [
                { user: "Мечтатель", text: "Мечтаю когда-нибудь побывать на Марсе!", time: "2023-05-10T09:15:00" }
            ],
            4: [],
            5: []
        };

        // Текущий пользователь
        let currentUser = null;
        // Текущая статья
        let currentArticleId = null;
        // Объект для хранения пользователей (в реальном проекте было бы на сервере)
        const users = {};

        // Показать/скрыть разделы
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
        }

        // Загрузка статьи
        function loadArticle(articleId) {
            currentArticleId = articleId;
            const article = articles[articleId];
            document.getElementById('articleTitle').textContent = article.title;
            document.getElementById('articleImage').src = article.image;
            document.getElementById('articleImage').alt = article.title;
            document.getElementById('articleContent').innerHTML = article.content;
            
            // Показываем комментарии
            updateComments();
            
            // Показываем форму комментариев, если пользователь авторизован
            document.getElementById('commentForm').classList.toggle('hidden', !currentUser);
            
            showSection('article');
        }

        // Обновление комментариев
        function updateComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            
            if (comments[currentArticleId].length === 0) {
                commentsList.innerHTML = '<p>Пока нет комментариев. Будьте первым!</p>';
                return;
            }
            
            comments[currentArticleId].forEach(comment => {
                const commentDiv = document.createElement('div');
                commentDiv.className = 'comment';
                commentDiv.innerHTML = `
                    <strong>${comment.user}</strong>
                    <small>${new Date(comment.time).toLocaleString()}</small>
                    <p>${comment.text}</p>
                `;
                commentsList.appendChild(commentDiv);
            });
        }

        // Отправка комментария
        function postComment() {
            const commentText = document.getElementById('commentText').value.trim();
            if (!commentText) return;
            
            const newComment = {
                user: currentUser,
                text: commentText,
                time: new Date().toISOString()
            };
            
            comments[currentArticleId].push(newComment);
            document.getElementById('commentText').value = '';
            updateComments();
            
            // В реальном проекте здесь был бы запрос к серверу
            console.log('Комментарий отправлен:', newComment);
        }

        // Регистрация
        function register() {
            const username = document.getElementById('authUsername').value.trim();
            const password = document.getElementById('authPassword').value.trim();
            
            if (!username || !password) {
                document.getElementById('authMessage').textContent = 'Введите имя пользователя и пароль';
                return;
            }
            
            if (users[username]) {
                document.getElementById('authMessage').textContent = 'Пользователь уже существует';
                return;
            }
            
            users[username] = password;
            document.getElementById('authMessage').textContent = 'Регистрация успешна! Теперь вы можете войти.';
            console.log('Зарегистрирован новый пользователь:', username);
        }

        // Вход
        function login() {
            const username = document.getElementById('authUsername').value.trim();
            const password = document.getElementById('authPassword').value.trim();
            
            if (!username || !password) {
                document.getElementById('authMessage').textContent = 'Введите имя пользователя и пароль';
                return;
            }
            
            if (users[username] !== password) {
                document.getElementById('authMessage').textContent = 'Неверное имя пользователя или пароль';
                return;
            }
            
            currentUser = username;
            document.getElementById('usernameDisplay').textContent = username;
            document.getElementById('userInfo').classList.remove('hidden');
            document.getElementById('authButton').textContent = 'Профиль';
            document.getElementById('authMessage').textContent = '';
            showSection('home');
            
            // Если мы на странице статьи, показываем форму комментариев
            if (currentArticleId) {
                document.getElementById('commentForm').classList.remove('hidden');
            }
            
            console.log('Пользователь вошел:', username);
        }

        // Выход
        function logout() {
            currentUser = null;
            document.getElementById('userInfo').classList.add('hidden');
            document.getElementById('authButton').textContent = 'Войти/Регистрация';
            
            // Если мы на странице статьи, скрываем форму комментариев
            if (currentArticleId) {
                document.getElementById('commentForm').classList.add('hidden');
            }
            
            console.log('Пользователь вышел');
        }

        // Имитация обновления комментариев в реальном времени
        setInterval(() => {
            if (currentArticleId && Math.random() > 0.9) {
                // В реальном проекте здесь был бы запрос к серверу на проверку новых комментариев
                updateComments();
            }
        }, 5000);

        // Инициализация
        showSection('home');
    </script>
</body>
</html>
